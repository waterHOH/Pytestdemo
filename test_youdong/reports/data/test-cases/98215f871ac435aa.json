{"uid":"98215f871ac435aa","name":"test_binglinchengxia_02[caseinfo1]","fullName":"test_youdong.test_login.TestLogin1#test_binglinchengxia_02","historyId":"32d732bfbb80da13653f434058a47903","time":{"start":1662541119230,"stop":1662541119329,"duration":99},"status":"broken","statusMessage":"KeyError: 'msg'","statusTrace":"self = <test_youdong.test_login.TestLogin1 object at 0x0000000004D12340>\ncaseinfo = {'name': '请求城池8信息', 'request': {'data': {'hd1051': {'showCity': {'city': 8, 'kind': 1}}}, 'headers': {'content-type': ...ation/json'}, 'method': 'post', 'url': 'http://lyjxydcsf2.hnyoulu.com/cmd_t.php?tpass=abcddd123&'}, 'validate': 'None'}\n\n    @pytest.mark.parametrize(\"caseinfo\", YamlUtil().read_testcase_yaml(\"edit_flag.yml\"))\n    def test_binglinchengxia_02(self, caseinfo):\n        print(\"测试名称\", caseinfo[\"name\"])\n        print(\"测试地址\", caseinfo[\"request\"][\"url\"])\n        print(\"测试请求\", caseinfo[\"request\"][\"data\"])\n        print(\"测试头部\", caseinfo[\"request\"][\"headers\"])\n        print(\"测试断言\", caseinfo[\"validate\"])\n        dq = csv.reader(open(r'D:\\Desktop\\jemter\\预上线\\组队三人.csv', 'r'))\n        for jcs in dq:\n            list1 = list(jcs)\n            sevid = list1[0]\n            uid = list1[1]\n            url = caseinfo[\"request\"][\"url\"]+\"sevid=\"+sevid+\"&uid=\"+uid+\"\"\n            body = caseinfo[\"request\"][\"data\"]\n            headers = caseinfo[\"request\"][\"headers\"]\n            # 发起post请求，获取返回的数据\n            r = requests.post(url, headers=headers, json=body)\n            print(r.text)\n            if r.status_code == 200 and r.json()[\"s\"] == 1:\n                print(r.json()[\"a\"][\"hd1051\"])\n            else:\n>               print(r.json()[\"a\"][\"system\"][\"msg\"],r.json()[\"a\"][\"system\"][\"from\"])\nE               KeyError: 'msg'\n\ntest_login.py:51: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"clear_yaml","time":{"start":1662541118414,"stop":1662541118415,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"_xunit_setup_class_fixture_TestLogin1","time":{"start":1662541118415,"stop":1662541118415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"_xunit_setup_method_fixture_TestLogin1","time":{"start":1662541119230,"stop":1662541119230,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"afterStages":[{"name":"_xunit_setup_method_fixture_TestLogin1::0","time":{"start":1662541119705,"stop":1662541119705,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"_xunit_setup_class_fixture_TestLogin1::0","time":{"start":1662541120692,"stop":1662541120692,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"test_youdong"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestLogin1"},{"name":"host","value":"YD-BG-0319"},{"name":"thread","value":"16872-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_youdong.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"caseinfo","value":"{'name': '请求城池8信息', 'request': {'method': 'post', 'url': 'http://lyjxydcsf2.hnyoulu.com/cmd_t.php?tpass=abcddd123&', 'data': {'hd1051': {'showCity': {'city': 8, 'kind': 1}}}, 'headers': {'content-type': 'application/json'}}, 'validate': 'None'}"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"98215f871ac435aa.json","parameterValues":["{'name': '请求城池8信息', 'request': {'method': 'post', 'url': 'http://lyjxydcsf2.hnyoulu.com/cmd_t.php?tpass=abcddd123&', 'data': {'hd1051': {'showCity': {'city': 8, 'kind': 1}}}, 'headers': {'content-type': 'application/json'}}, 'validate': 'None'}"]}